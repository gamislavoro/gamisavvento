<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Preordini – Seminario • Avvento & Natale</title>
  <meta name="theme-color" content="#b91c1c"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    #jsError{position:fixed;left:0;right:0;top:0;z-index:50;display:none}
    .hero-overlay{pointer-events:none}
    main, #prodotti, #preordina{position:relative;z-index:30}
    article.card{position:relative;z-index:40}
    .card{box-shadow:0 2px 10px rgba(2,6,23,.06),0 16px 40px rgba(2,6,23,.08)}
    .chip{display:inline-flex;align-items:center;justify-content:center;padding:.38rem .62rem;border-radius:999px;border:1px solid #e5e7eb;background:#fff;font-weight:600;font-size:.85rem;cursor:pointer}
    .chip[aria-pressed="true"]{background:#b91c1c;color:#fff;border-color:#b91c1c}
    .swatch{width:26px;height:26px;border-radius:999px;border:2px solid #fff;box-shadow:0 0 0 1px #e5e7eb;cursor:pointer}
    .swatch[aria-selected="true"]{box-shadow:0 0 0 2px #b91c1c}
    .step{width:32px;height:32px;border-radius:10px;border:1px solid #e5e7eb;background:#fff;font-weight:700}
    .btn{display:inline-flex;align-items:center;justify-content:center;font-weight:700;border-radius:12px}
    .btn-primary{background:#b91c1c;color:#fff;padding:.75rem 1rem} .btn-primary:hover{background:#991b1b}
    .btn-ghost{background:#fff;border:1px solid #ef4444;color:#b91c1c;padding:.75rem 1rem} .btn-ghost:hover{background:#fee2e2}
  </style>
</head>
<body class="bg-slate-50 text-slate-800">

  <!-- HEADER -->
  <header class="bg-white/90 backdrop-blur sticky top-0 z-40 border-b border-slate-200">
    <div class="max-w-6xl mx-auto px-4 md:px-6 h-14 flex items-center justify-center">
      <img id="logoTop" alt="Logo Seminario" class="h-8 w-auto" src="img/logo.png"/>
    </div>
  </header>

  <div id="jsError" class="mx-auto max-w-6xl px-4 md:px-6 py-2">
    <div class="bg-red-600 text-white rounded-lg px-4 py-2 shadow">Errore Javascript: <span id="jsErrorMsg"></span></div>
  </div>

  <!-- HERO -->
  <section class="relative z-0 isolate">
    <div class="h-[44vh] md:h-[56vh] w-full overflow-hidden">
      <div id="heroBg" class="h-full w-full bg-cover bg-center" style="background-image:url('img/hero.jpg')"></div>
      <div class="absolute inset-0 bg-gradient-to-r from-black/40 via-black/25 to-transparent hero-overlay"></div>
    </div>
    <div class="absolute inset-0 hero-overlay">
      <div class="max-w-6xl mx-auto px-4 md:px-6 h-full flex items-center pointer-events-none">
        <div class="max-w-xl text-white pointer-events-auto">
          <h1 class="text-3xl md:text-5xl font-extrabold leading-tight">Preordina con il cuore</h1>
          <p class="mt-3 text-lg text-white/95">Scegli cosa prenderesti (non vincolante): ci aiuti a pianificare la raccolta fondi per la Terra Santa. Ti ricontatteremo per la conferma.</p>
          <div class="mt-5 flex gap-2 pointer-events-auto">
            <a href="#prodotti" class="btn btn-primary pointer-events-auto">Scegli i prodotti</a>
            <a href="#causa" class="btn btn-primary pointer-events-auto">Scopri la causa</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <main class="relative z-20 max-w-6xl mx-auto px-4 md:px-6">
    <div class="py-8 flex items-center justify-between border-b border-slate-200 mb-6">
      <h2 class="text-2xl font-bold">Prodotti</h2>
      <div id="totaleTop" class="text-xl font-semibold text-slate-700">Totale stimato: € 0,00</div>
    </div>

    <section id="prodotti" class="py-4">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">

        <article id="card-birra" class="bg-white rounded-2xl card overflow-hidden" data-kind="birra">
          <img id="img-birra" class="h-40 w-full object-cover" alt="Birra" src="img/birra.jpg"/>
          <div class="p-4 space-y-4">
            <header class="flex items-center justify-between">
              <h3 class="font-semibold">Birra</h3>
              <span class="text-xs px-2 py-1 rounded-full bg-sky-100 text-sky-700 border border-sky-200">artigianale</span>
            </header>
            <p class="text-sm text-slate-600">Birra artigianale selezionata, disponibile in confezione da 6 bottiglie, ideale per brindare insieme.</p>
            <div>
              <div class="text-xs text-slate-500 mb-2">Formato</div>
              <div class="flex flex-wrap gap-2" data-chip-group="formato">
                <button type="button" class="chip" aria-pressed="true" data-value="Cassa da 6">Cassa da 6</button>
              </div>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-sm">Variante corrente</span>
              <div class="inline-flex items-center gap-2">
                <button type="button" class="step" data-draft-stepper data-delta="-1">–</button>
                <span class="min-w-[1.5ch] text-center" data-draft-qty>0</span>
                <button type="button" class="step" data-draft-stepper data-delta="1">+</button>
              </div>
            </div>
            <button type="button" class="btn btn-ghost w-full" data-add-variant>+ Aggiungi variante</button>
            <div class="space-y-2" data-list></div>
          </div>
        </article>

        <article id="card-felpa" class="bg-white rounded-2xl card overflow-hidden" data-kind="felpa">
          <img id="img-felpa" class="h-40 w-full object-cover" alt="Felpa" src="img/felpa.jpg"/>
          <div class="p-4 space-y-4">
            <header class="flex items-center justify-between">
              <h3 class="font-semibold">Felpa</h3>
              <span class="text-xs px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 border border-emerald-200">soft</span>
            </header>
            <p class="text-sm text-slate-600">Felpa comoda e calda, perfetta per l’inverno, disponibile in vari colori e taglie.</p>
            <div>
              <div class="text-xs text-slate-500 mb-2">Colore</div>
              <div class="flex items-center gap-2" data-swatch-group="colore">
                <button type="button" class="swatch" style="background:#111827" data-value="Nero" aria-selected="true" title="Nero"></button>
                <button type="button" class="swatch" style="background:#cbd5e1" data-value="Grigio" aria-selected="false" title="Grigio"></button>
                <button type="button" class="swatch" style="background:#7f1d1d" data-value="Bordeaux" aria-selected="false" title="Bordeaux"></button>
                <button type="button" class="swatch" style="background:#14532d" data-value="Verde bosco" aria-selected="false" title="Verde bosco"></button>
                <button type="button" class="swatch" style="background:#1e3a8a" data-value="Blu navy" aria-selected="false" title="Blu navy"></button>
              </div>
            </div>
            <div>
              <div class="text-xs text-slate-500 mb-2">Taglia</div>
              <div class="flex flex-wrap gap-2" data-chip-group="taglia">
                <button type="button" class="chip" aria-pressed="true" data-value="S">S</button>
                <button type="button" class="chip" aria-pressed="false" data-value="M">M</button>
                <button type="button" class="chip" aria-pressed="false" data-value="L">L</button>
                <button type="button" class="chip" aria-pressed="false" data-value="XL">XL</button>
                <button type="button" class="chip" aria-pressed="false" data-value="XXL">XXL</button>
              </div>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-sm">Variante corrente</span>
              <div class="inline-flex items-center gap-2">
                <button type="button" class="step" data-draft-stepper data-delta="-1">–</button>
                <span class="min-w-[1.5ch] text-center" data-draft-qty>0</span>
                <button type="button" class="step" data-draft-stepper data-delta="1">+</button>
              </div>
            </div>
            <button type="button" class="btn btn-ghost w-full" data-add-variant>+ Aggiungi variante</button>
            <div class="space-y-2" data-list></div>
          </div>
        </article>

        <article id="card-cappello" class="bg-white rounded-2xl card overflow-hidden" data-kind="cappello">
          <img id="img-cappello" class="h-40 w-full object-cover" alt="Cappello" src="img/cappello.jpg"/>
          <div class="p-4 space-y-4">
            <header class="flex items-center justify-between">
              <h3 class="font-semibold">Cappello</h3>
              <span class="text-xs px-2 py-1 rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200">street</span>
            </header>
            <p class="text-sm text-slate-600">Cappello giovane e pratico, per affrontare il freddo con stile.</p>
            <div>
              <div class="text-xs text-slate-500 mb-2">Colore</div>
              <div class="flex items-center gap-2" data-swatch-group="colore">
                <button type="button" class="swatch" style="background:#111827" data-value="Nero" aria-selected="true" title="Nero"></button>
                <button type="button" class="swatch" style="background:#cbd5e1" data-value="Grigio" aria-selected="false" title="Grigio"></button>
                <button type="button" class="swatch" style="background:#ef4444" data-value="Rosso" aria-selected="false" title="Rosso"></button>
                <button type="button" class="swatch" style="background:#16a34a" data-value="Verde" aria-selected="false" title="Verde"></button>
                <button type="button" class="swatch" style="background:#1d4ed8" data-value="Blu" aria-selected="false" title="Blu"></button>
              </div>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-sm">Variante corrente</span>
              <div class="inline-flex items-center gap-2">
                <button type="button" class="step" data-draft-stepper data-delta="-1">–</button>
                <span class="min-w-[1.5ch] text-center" data-draft-qty>0</span>
                <button type="button" class="step" data-draft-stepper data-delta="1">+</button>
              </div>
            </div>
            <button type="button" class="btn btn-ghost w-full" data-add-variant>+ Aggiungi variante</button>
            <div class="space-y-2" data-list></div>
          </div>
        </article>

        <article id="card-dolce" class="bg-white rounded-2xl card overflow-hidden" data-kind="dolce">
          <img id="img-dolce" class="h-40 w-full object-cover" alt="Dolci" src="img/dolci.jpg"/>
          <div class="p-4 space-y-4">
            <header class="flex items-center justify-between">
              <h3 class="font-semibold">Dolci</h3>
              <span class="text-xs px-2 py-1 rounded-full bg-amber-100 text-amber-800 border border-amber-200">tradizione</span>
            </header>
            <p class="text-sm text-slate-600">Dolci della tradizione natalizia, per condividere il sapore autentico delle feste.</p>
            <div>
              <div class="text-xs text-slate-500 mb-2">Tipo</div>
              <div class="flex flex-wrap gap-2" data-chip-group="tipo">
                <button type="button" class="chip" aria-pressed="true" data-value="Pandoro classico">Pandoro classico</button>
                <button type="button" class="chip" aria-pressed="false" data-value="Pandoro al cioccolato">Pandoro al cioccolato</button>
                <button type="button" class="chip" aria-pressed="false" data-value="Panettone">Panettone</button>
              </div>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-sm">Variante corrente</span>
              <div class="inline-flex items-center gap-2">
                <button type="button" class="step" data-draft-stepper data-delta="-1">–</button>
                <span class="min-w-[1.5ch] text-center" data-draft-qty>0</span>
                <button type="button" class="step" data-draft-stepper data-delta="1">+</button>
              </div>
            </div>
            <button type="button" class="btn btn-ghost w-full" data-add-variant>+ Aggiungi variante</button>
            <div class="space-y-2" data-list></div>
          </div>
        </article>

      </div>
    </section>

    <!-- Il resto del codice rimane identico -->
    <!-- (preordina, causa, footer, JS funzionale ecc.) -->
  </main>

  <footer class="mt-10 bg-slate-900 text-slate-100">
    <div class="max-w-6xl mx-auto px-4 md:px-6 py-8 flex flex-col items-center space-y-2 text-center">
      <img id="logoFooter" alt="Logo Seminario" class="h-8 w-auto opacity-95" src="img/logo.png"/>
      <div>Via Papa Pio XI, 32 - Venegono Inferiore (VA)</div>
      <div class="text-xs opacity-80">© <span id="yearNow"></span> GAMis - Seminario Arcivescovile di Milano</div>
    </div>
  </footer>

<script>
const ENDPOINT = "YOUR_APPS_SCRIPT_WEB_APP_URL";
// Tutto il codice JS originale resta invariato
// (nessun riferimento a LOGO_URL o setImgSrc)
const SEMINARISTI = ["— Seleziona —","Don Andrea","Fr. Luca","Sem. Marco","Sem. Chiara","Altro…"];
// ... resto del tuo JS come nel file originale ...
</script>
</body>
</html>
